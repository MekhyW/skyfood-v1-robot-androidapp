import{C as t,o as s,c as i,a as e,D as h,M as n,L as o,a3 as a,K as d}from"./@vue-73fba911.js";import{_ as r}from"./index-d6250428.js";const l=t({data:()=>({slidesLength:1,_width:0,auto:!0,slideing:!0,timer1:"",className:"",dom:{},t:{sx:0,s:0,m:0,e:0},index:1}),props:{autoPlay:{default:!0},duration:{default:300},interval:{default:1500},showIndicator:{default:!0},initialSlide:{default:1}},mounted(){this.index=this.initialSlide+1;const t=Number(Math.random().toFixed(3));this.className="wh_swiper_"+1e3*t,this.$nextTick((()=>{this.starDom();const t=this.dom;t.transform=`translate3d(${this._width*-this.index}px, 0px, 0px)`,t["-webkit-transform"]=`translate3d(${this._width*-this.index}px, 0px, 0px)`,t["-ms-transform"]=`translate3d(${this._width*-this.index}px, 0px, 0px)`,this.autoPlay&&this.setTime()}))},methods:{s(t){this.slideing&&(this.clearTimeOut(),this.t.sx=this.getTransform(),this.t.s=t.touches[t.touches.length-1].clientX)},m(t){this.slideing&&-1!=this.t.s&&(this.clearTimeOut(),this.t.m=t.touches[t.touches.length-1].clientX-this.t.s,this.setTransform(this.t.m+this.t.sx))},e(t){if(this.slideing&&-1!=this.t.s){this.clearTimeOut(),this.setTransform(this.t.m+this.t.sx);let t=this.getTransform();t+=this.t.m>0?.3*this._width:-.3*this._width,this.index=-1*Math.round(t/this._width),this.wh("touch")}},setTransform(t){const s=this.dom;s.transform=`translate3d(${t}px, 0px, 0px)`,s["-webkit-transform"]=`translate3d(${t}px, 0px, 0px)`,s["-ms-transform"]=`translate3d(${t}px, 0px, 0px)`},getTransform(){const t=this.dom;var s=t.transform||t["-webkit-transform"]||t["-ms-transform"];return s=(s=s.substring(12)).match(/(\S*)px/)[1],Number(s)},fn(t){t.preventDefault()},prevSlide(){this.clearTimeOut(),this.index--,this.wh()},nextSlide(){this.clearTimeOut(),this.index++,this.wh()},slideTo(t){this.clearTimeOut(),this.index=t+1,this.wh()},wh(t){this.slideing=!1;this.dom.transition="touch"==t?"250ms":this.duration+"ms",this.setTransform(-1*this.index*this._width),this.t.m=0,this.t.s=-1,this.autoPlay&&this.setTime();const s="touch"==t?"250":this.duration;setTimeout((()=>{this.dom.transition="0s",this.index>=this.slidesLength+1&&(this.index=1,this.setTransform(-1*this.index*this._width)),this.index<=0&&(this.index=this.slidesLength,this.setTransform(-1*this.index*this._width)),this.$emit("transtionend",this.index-1),this.auto=!0,this.slideing=!0}),s)},setTime(){let t=this.timer1;t=window.setTimeout((()=>{this.auto?(this.index++,this.wh()):window.clearTimeout(this.timer1)}),this.interval),this.timer1=t},starDom(){const t=document.querySelector("."+this.className);if(t){const s=t.getElementsByClassName("wh_slide");if(this.slidesLength=s.length,this.slidesLength>1){const i=s[0].cloneNode(!0),e=s[this.slidesLength-1].cloneNode(!0);t.insertBefore(e,s[0]),t.appendChild(i),this._width=t.offsetWidth,this.dom=t.style}}},clearTimeOut(){this.auto=!1,window.clearTimeout(this.timer1)}}}),m={key:0,class:"wh_indicator"};const c=r(l,[["render",function(t,r,l,c,u,x){return s(),i("section",{class:"wh_content",onTouchmove:r[3]||(r[3]=(...s)=>t.fn&&t.fn(...s))},[e("div",{class:n([t.className,"wh_swiper"]),onTouchstart:r[0]||(r[0]=(...s)=>t.s&&t.s(...s)),onTouchmove:r[1]||(r[1]=(...s)=>t.m&&t.m(...s)),onTouchend:r[2]||(r[2]=(...s)=>t.e&&t.e(...s))},[h(t.$slots,"default")],34),t.showIndicator?(s(),i("div",m,[(s(!0),i(o,null,a(t.slidesLength,((e,h)=>(s(),i("div",{class:n([{wh_show_bgcolor:t.index-1==h},"wh_indicator_item"])},null,2)))),256))])):d("",!0)],32)}]]);const u=r(t({methods:{clickSlide(){this.$emit("click")}}}),[["render",function(t,e,n,o,a,d){return s(),i("div",{class:"wh_slide",onClick:e[0]||(e[0]=(...s)=>t.clickSlide&&t.clickSlide(...s))},[h(t.$slots,"default")])}]]);export{c as A,u as S};
