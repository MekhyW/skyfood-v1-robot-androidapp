import"./swiper-276df855.js";import{ai as e,y as t,d as a,g as s,aT as n,S as o,R as l,a as c,T as r,P as i,$ as p,_ as u}from"./index-d6250428.js";import{C as g,r as m,e as d,y as h,aZ as y,a1 as f,ae as x,o as v,c as b,a as k,R as S,T as j,u as w,L as _,K as z,b3 as q,b2 as T,w as $}from"./@vue-73fba911.js";const R=""+new URL("../png/emerge-icon-manual-312775a9.png",import.meta.url).href,I=""+new URL("../png/emerge-icon-release-brake-7e8ed868.png",import.meta.url).href,L=""+new URL("../png/emerge-icon-safe-286c170e.png",import.meta.url).href,C=e=>(q("data-v-fa1a6333"),e=e(),T(),e),E={class:"emerge-stop"},M=C((()=>k("div",{class:"float1"},null,-1))),U=C((()=>k("div",{class:"float2"},null,-1))),B=C((()=>k("div",{class:"float3"},null,-1))),D={class:"tip"},P={class:"navposi"},W={class:"main-contain-tip"},F={class:"text-info"},K={class:"text-one"},O={key:0,src:R,alt:""},V={key:1,src:I,alt:""},Z={key:0,class:"text-two"},A={key:1,class:"text-two"},G={class:"text-one"},H={key:0,src:L,alt:""},J={key:1,src:R,alt:""},N={class:"text-two"},Q={class:"text-one"},X=C((()=>k("img",{src:L,alt:""},null,-1))),Y={class:"text-two"},ee={class:"text-one"},te=C((()=>k("img",{src:R,alt:""},null,-1))),ae={class:"text-two"},se={key:4,class:"footer-box"},ne=u(g({__name:"emergeStop",setup(u){const g=e(),q=t(),T=m({}),R=[];let I=!1;function L(){for(I=!1,o.isShowStatus()&&o.close();R.length;){const e=R.pop();e&&e()}}function C(){I=!0,console.log(g.info.dispatchType),l.getInstance().getDeviceInfo().then((e=>{console.log(e,"============="),T.value=e})),function(){const e=$((()=>q.robotstate.isCharging),(e=>{e?o.show({data:{errType:30}}):o.close()}),{immediate:!0});R.push(e)}(),1!==g.info.dispatchType?r.getInstance().forceStopTask():l.getInstance().pauseTask().then((()=>{c.close()})).catch((e=>{c.close()}))}function ne(){c.show(),p.manualModel().then((()=>{c.close()})).catch((()=>{c.close()}))}d((()=>{let e=a.currentRoute.value.fullPath;!I&&e.includes("Follow")&&C()})),h((()=>{L()})),y((()=>{!I&&C()})),f((()=>{L(),1!==g.info.dispatchType?i.getInstance().onDeactivated():l.getInstance().resumeTask().finally((()=>{c.close()}))}));const oe=m(q.customSetting.otherSetting&&q.customSetting.otherSetting.emergeStopSwitch||!1);return y((()=>{oe.value=q.customSetting.otherSetting&&q.customSetting.otherSetting.emergeStopSwitch||!1})),(e,t)=>{const a=x("navbarVue");return v(),b("div",E,[M,U,B,k("div",D,[k("div",P,[S(a,{heights:"65"})])]),k("div",W,[k("div",F,[k("h3",null,j(e.$t("starup.ts")),1),0==w(s).sn.indexOf("BB")?(v(),b(_,{key:0},[k("p",K,[w(q).robotstate.isEmergencyStop?(v(),b("img",O)):w(q).robotstate.isWheelsReleased?(v(),b("img",V)):z("",!0)]),w(q).robotstate.isEmergencyStop?(v(),b("p",Z,[k("span",null,j(e.$t("setting.jtanyaxjqrtzydrxqhsdtxztqxxkantcjtmszaxjbzan")),1)])):w(q).robotstate.isWheelsReleased?(v(),b("p",A,[k("span",null,j(e.$t("setting.jbzanyaxjqrdqcyktxztrxhfrwqzcaxjbfan")),1)])):z("",!0)],64)):8===w(q).robotType?(v(),b(_,{key:1},[k("p",G,[["manual_release","manual_release_safe"].includes(T.value.emergency_stop_button_behavior)?(v(),b("img",H)):(v(),b("img",J)),k("span",null,j(e.$t("emergestop.jtanyaxccwfyd")),1)]),k("p",N,[k("span",null,j(e.$t("emergestop.rxzzydqxhfjtan")),1)])],64)):["manual_release","manual_release_safe"].includes(T.value.emergency_stop_button_behavior)?(v(),b(_,{key:2},[k("p",Q,[X,k("span",null,j(e.$t("emergestop.jtanyaxkzytd")),1)]),k("p",Y,[k("span",null,j(e.$t("emergestop.rxjqrzzydqxkantcjtms")),1)])],64)):(v(),b(_,{key:3},[k("p",ee,[te,k("span",null,j(e.$t("emergestop.jtanyaxkzytd")),1)]),k("p",ae,[k("span",null,j(e.$t("emergestop.rxjqrzzydqcn10stcjtms")),1)])],64)),!w(n)()&&oe.value&&w(q).robotstate&&!w(q).robotstate.isManualMode?(v(),b("div",se,[k("div",{class:"btn change-manual",onClick:ne},j(e.$t("emergestop.qhsd")),1)])):z("",!0)])])])}}}),[["__scopeId","data-v-fa1a6333"]]);export{ne as E};
