import{_ as o}from"./icon-home-15bd5876.js";import{y as l,aX as s,aq as e,aD as a,X as t,d as i,b0 as n,_ as c}from"./index-d6250428.js";import{P as r}from"./index-1077bd55.js";import{C as f,W as d,r as p,w as m,aZ as u,e as h,a1 as v,a5 as g,n as b,c as x,a as T,T as y,u as k,M as E,L as B,a3 as C,R as N,b3 as S,b2 as I,o as $,K as w}from"./@vue-73fba911.js";const L=o=>(S("data-v-6dd02213"),o=o(),I(),o),P={class:"food-box"},_={class:"top-box"},j={class:"top-left"},z=L((()=>T("img",{src:o,alt:""},null,-1))),F={class:"times"},H={class:"ml20"},q={class:"top-right"},M={class:"step-active"},X=L((()=>T("div",null,[T("span"),T("span"),T("span")],-1))),D={class:""},K={class:"container"},O={class:"left-box"},R={class:"floor-box"},W={class:"floor-num",id:"scrollTop"},Z=["onClick"],A=["id"],G={key:0,class:"floorName"},J=["onClick"],Q={class:"info"},U={class:"left-right"},V=c(f({__name:"index",props:{passPhoneShow:{type:Boolean,default:!1},overHide:{type:Boolean,default:!1}},emits:["selectPoi"],setup(o,{emit:c}){const f=o;l();const S=s(),I=a[0];let L=d({list:[],floorList:[]});const V=p(""),Y=p(null);m((()=>f.passPhoneShow),((o,l,s)=>{o?t.getInstance().removeTime("filterSiteBox"):lo()}));const oo=p(60);u((()=>{oo.value=60,so(),lo(),console.log("tabMessage1",I)})),h((()=>{so()})),v((()=>{t.getInstance().removeTime("filterSiteBox")}));const lo=()=>{t.getInstance().startTime("filterSiteBox",1e3,oo.value,(o=>(oo.value=o,0===o&&io(),!n.isShowStatus())))};function so(){Y.value=null;let o="",l=[];L.list=[],L.floorList=I.floorlist,I.boardlist.forEach(((s,e)=>{const a=s[0].floorName||s[0].floor;o!==a&&(l.length&&(L.list.push(l),l=[]),o=s[0].floorName||s[0].floor),s.forEach(((s,e)=>{const a=s.floorName||s.floor;o===a&&l.push(g(s))})),e===I.boardlist.length-1&&(L.list.push(l),l=[])})),I.floorlist.forEach(((o,l)=>{o.name==e.value&&(V.value=o.name,eo(o))}))}function eo(o,l){b((()=>{V.value=o.name;let l=document.getElementById("scroll"),s=document.getElementById(`floor${o.name}`);s&&(l.scrollTop=s.offsetTop)}))}const ao=(o,l)=>{o.sel=!0,Y.value=o,function(o,l){L.list.forEach(((l,s)=>{l.forEach(((l,s)=>{l.id!==o.id?l.sel=!1:l.sel=!0}))}))}(o),S.$patch((l=>{l.address=o})),c("selectPoi",Y.value)};function to(o){L.list=[];let l="",s=[];I.boardlist.forEach(((e,a)=>{const t=e[0].floorName||e[0].floor;l!==t&&(s.length&&(L.list.push(s),s=[]),l=e[0].floorName||e[0].floor),e.forEach(((e,a)=>{const t=e.floorName||e.floor;l===t&&e.name.indexOf(o)>-1&&s.push(g(e))})),a===I.boardlist.length-1&&(L.list.push(s),s=[])}))}function io(){console.log(oo.value),t.getInstance().removeTime("filterSiteBox"),i.push("/hotel/homes")}function no(o){const l=document.getElementById("scrollTop");l.scrollTop<50&&o>0&&(l.scrollTop=0),l.scrollTop+l.clientHeight>=l.scrollHeight&&o<0||(l.scrollTop=l.scrollTop-o)}return(o,l)=>($(),x("div",P,[T("div",_,[T("div",j,[T("p",{onClick:io},[z,T("span",null,y(o.$t("hotel.fhsy")),1),T("span",F,"("+y(oo.value)+"s)",1)]),T("p",H,y(o.$t("hotel.psdz"))+":"+y(Y.value&&Y.value.name||o.$t("hotel.qxzpsdz")),1)]),T("div",q,[T("span",M,"1."+y(o.$t("hotel.txdz")),1),X,T("span",D,"2."+y(1===k(S).hotelTaskType?o.$t("hotel.kxfw"):o.$t("index.yl")),1)])]),T("div",K,[T("div",O,[T("div",R,[T("span",{class:E(k(L).floorList.length>9?"active top":"top"),onClick:l[0]||(l[0]=o=>no(50))},null,2),T("div",W,[($(!0),x(B,null,C(k(L).floorList,((o,l)=>($(),x("div",{key:l,class:E({active:o.name===V.value}),onClick:l=>eo(o)},y(o.name)+"F",11,Z)))),128))]),T("span",{class:E(k(L).floorList.length>9?"active bottom":"bottom"),onClick:l[1]||(l[1]=o=>no(-50))},null,2)]),T("div",{class:E(["floor-info",{"over-hide":f.passPhoneShow||f.overHide}]),id:"scroll"},[($(!0),x(B,null,C(k(L).list,((o,l)=>($(),x("div",{key:l,class:"floor-list",id:"floor"+(o[0]&&o[0].floorName)},[o.length?($(),x("span",G,y(o[0].floorName+"F"),1)):w("",!0),($(!0),x(B,null,C(o,((o,l)=>($(),x("div",{key:l,class:E(Y.value&&o.id===Y.value.id?"active floor-item":"floor-item"),onClick:l=>ao(o)},[T("div",Q,y(o.name),1)],10,J)))),128))],8,A)))),128))],2)]),T("div",U,[N(r,{onFilterChange:to,type:"input"})])])]))}}),[["__scopeId","data-v-6dd02213"]]);export{V as F};
