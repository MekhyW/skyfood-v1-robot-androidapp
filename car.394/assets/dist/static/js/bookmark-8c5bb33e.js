import"./swiper-276df855.js";import{S as e,A as o}from"./slide-368d8d5f.js";import{aF as s,L as a,_ as t}from"./index-d6250428.js";import{C as l,r as i,W as n,e as r,aZ as d,c,a as m,T as p,K as b,L as k,a3 as u,M as f,R as v,P as g,u as w,o as _,O as h,U as y}from"./@vue-73fba911.js";const C={class:"index_right_top"},x={key:0,class:"bookmark-list"},N={class:"container-box"},S=["onClick"],M={class:"index_right_center"},P={class:"left_pre"},I={class:"left_center"},B={class:"swiper_content"},L=["onClick"],j={class:"dots"},T={class:"dotscontent"},W={class:"right_pre"},D=t(l({__name:"bookmark",props:{isBookmarkType:{type:Boolean,default:!1},model:{type:String,default:"common"}},emits:["selectPosition","changeModel"],setup(t,{emit:l}){const D=t;let O=i(0);const A=i(null),E=n({boardlist:[],floorlist:[],swipertab:0});r((()=>{E.boardlist=[],E.floorlist=[],E.swipertab=0,K()})),d((()=>{K()}));const F=()=>{A.value.prevSlide(),a.onWriteLog("info","Common",{tabMessage:E},"swiperPrev")},H=()=>{A.value.nextSlide(),a.onWriteLog("info","Common",{tabMessage:E},"swiperNext")};function J(e){isNaN(e)||(E.swipertab=e,O.value=E.boardlist[E.swipertab][0].bookmarkNum,a.onWriteLog("info","Common",{tabMessage:E},"onSlideChange"))}function K(){const e=localStorage.getItem("bookmarkData"),o=localStorage.getItem("areaId");if(e){const t=JSON.parse(e);let l={};console.log(s),s?l=t.elevator||{}:o&&(l=t[o]||{}),l.floorlist&&l.floorlist.length&&(E.boardlist=(e=>{let o=[];for(let s=0;s<e.length;s++)for(let a=0;a<e[s].length;a+=12)e[s][a].bookmarkNum=s,o.push(e[s].slice(a,a+12));return o})(l.boardlist),E.floorlist=l.floorlist,E.swipertab=0),a.loginfoNew("bookmarkData","isBookmarkHandle",{bookmarkData:e,isElevator:s,areaId:o,tabMessage:E,localBookmark:l})}}const R=()=>{l("changeModel",1)};return(s,a)=>(_(),c("div",{class:f(["bookmark-index-right",{menus:"menus"===D.model}])},[m("div",C,[E.floorlist.length>0?(_(),c("div",x,[m("div",N,["menus"===D.model?(_(),c("div",{key:0,class:"bookmark-item",onClick:R},[m("span",null,p(s.$t("index.cp")),1)])):b("",!0),(_(!0),c(k,null,u(E.floorlist,((e,o)=>(_(),c("div",{class:f(["bookmark-item",w(O)===o?"active":""]),onClick:e=>((e,o)=>{for(let s=0;s<E.boardlist.length;s++)if(E.boardlist[s][0].bookmarkNum===o){O.value=o,E.swipertab=Number(s),A.value.slideTo(Number(s));break}})(0,o),key:o},p(e.name),11,S)))),128))])])):b("",!0)]),m("div",M,[m("div",P,[m("span",{onClick:F,class:f([0==E.swipertab?"disable-pre":"active-pre","swiper-button-prev"])},null,2)]),m("div",I,[m("div",B,[v(w(o),{ref_key:"swiper",ref:A,class:"wh_swiper-box",style:{width:"100%",height:"100%"},initialSlide:E.swipertab,autoPlay:!1,showIndicator:!1,onTranstionend:J},{default:g((()=>[(_(!0),c(k,null,u(E.boardlist,((o,s)=>(_(),h(w(e),{key:s,class:"slideone"},{default:g((()=>[(_(!0),c(k,null,u(o,((e,o)=>(_(),c("div",{key:o,class:f(1==e.select?"one_Point font1":"one_Point2 font1"),style:y(e.name?"":"display:none"),onClick:e=>function(e,o){let s=E.boardlist[e][o];l("selectPosition",s)}(s,o)},[m("span",null,p(e.name),1)],14,L)))),128))])),_:2},1024)))),128))])),_:1},8,["initialSlide"])]),m("div",j,[m("div",T,[(_(!0),c(k,null,u(E.boardlist,((e,o)=>(_(),c("div",{key:o,class:f(o==E.swipertab?"one_dot":"one_dot2")},null,2)))),128))])])]),m("div",W,[E.floorlist.length>0?(_(),c("span",{key:0,onClick:H,class:f([E.swipertab==E.boardlist.length-1?"disable-pre":"active-pre","swiper-button-next"])},null,2)):b("",!0)])])],2))}}),[["__scopeId","data-v-551a576d"]]);export{D as B};
