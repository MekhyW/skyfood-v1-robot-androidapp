import{f as e,g as t}from"./element-plus-5a8aeb67.js";import{y as s,r as a,a4 as o,R as l,K as i,a as n,$ as r,bv as d,aG as p,_ as c}from"./index-d6250428.js";import{u as m}from"./vue-i18n-5829ac11.js";import{R as f}from"./index-48234a3c.js";import{C as u,r as g,e as v,aZ as j,c as b,a as x,T as y,R as h,P as _,u as k,O as S,K as w,o as z}from"./@vue-73fba911.js";import"./dayjs-4c03de08.js";import"./@autoxing-9bbbdd2d.js";import"./axios-2c1be958.js";import"./websocket-963e06e0.js";import"./es5-ext-689fde2c.js";import"./lodash-es-fa68f30b.js";import"./@vueuse-171ed302.js";import"./@element-plus-c72353dc.js";import"./@ctrl-ee9bdfd4.js";import"./async-validator-efc2d198.js";import"./@popperjs-892fd7f5.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-da779ce4.js";import"./vue-router-fe18c2fe.js";import"./pinia-118dd6fd.js";import"./vue3-loading-overlay-a6191c09.js";import"./vue-slider-component-7621b196.js";import"./vue-6ec50eb9.js";import"./mitt-dab1f1cb.js";import"./swiper-276df855.js";import"./ssr-window-792d0f84.js";import"./dom7-250848e3.js";import"./amfe-flexible-1f7bb7f4.js";import"./@intlify-352b7567.js";const I={class:"sys_setting"},$={class:"sys_span1 font4"},C={class:"dialog_Span"},V={class:"dialog-footer"},q={style:{"font-size":"18px"}},O={style:{"font-size":"18px"}},R={class:"dialog_Span"},A={class:"dialog-footer"},M={style:{"font-size":"18px"}},T={style:{"font-size":"18px"}},U=u({beforeRouteEnter(e,t,s){s((e=>{}))}}),K=c(u({...U,__name:"OnlineSetting",setup(c){const u=s();m();const U=g(!1);g(u.Updatesign);const K=g(!1),E=g(!1);function G(e){U.value=!0}function J(e){U.value=!1,o()}v((()=>{let e=a();E.value=1==e.offline_mode})),j((()=>{}));let N=g(!1);function P(){let e=l.getInstance(),t=i.getInstance().getSdkServerApi(),s=i.getInstance().getSdkServerType(),a=i.getInstance().getOfflineMode(),o=e.setIp(t,s,a);n.show(),o.then((e=>{e?(r.restart(),console.log("isok.then:"+e+3333),n.close(),K.value=!1):(N.value=!0,n.close(),setTimeout((()=>{N.value=!1}),1e3))})).catch((e=>{K.value=!1,n.close(),Z()}))}function Z(){K.value=!1,function(){let e=a();e.offline_mode=1-e.offline_mode,d(e),1==e.offline_mode?localStorage.setItem("modelAudioMap",JSON.stringify(p)):(localStorage.removeItem("modelAudioMap"),localStorage.removeItem("currentfloor")),E.value=1==e.offline_mode}()}return(s,a)=>{const o=e,l=t;return z(),b("div",null,[x("div",I,[x("div",null,[x("div",null,[x("span",$,y(s.$t("setting.dtgl")),1)]),x("div",{onClick:G},y(s.$t("setting.bjdt")),1)])]),h(l,{modelValue:U.value,"onUpdate:modelValue":a[1]||(a[1]=e=>U.value=e),style:{"border-radius":"20px",height:"280px"},width:"52%","align-center":"",center:"","show-close":!1},{footer:_((()=>[x("span",V,[h(o,{class:"cancel-btn",style:{height:"55px"},onClick:a[0]||(a[0]=e=>U.value=!1),size:"large"},{default:_((()=>[x("span",q,y(s.$t("index.qx")),1)])),_:1}),h(o,{style:{height:"55px"},type:"primary",size:"large",onClick:J},{default:_((()=>[x("span",O,y(s.$t("index.qd")),1)])),_:1})])])),default:_((()=>[x("span",C,y(s.$t("task.ljtztitle")),1)])),_:1},8,["modelValue"]),h(l,{modelValue:K.value,"onUpdate:modelValue":a[2]||(a[2]=e=>K.value=e),style:{"border-radius":"20px",height:"280px"},width:"52%","align-center":"",center:"","show-close":!1,"close-on-click-modal":!1},{footer:_((()=>[x("span",A,[h(o,{style:{height:"55px","background-color":"#e5e5e5"},onClick:Z,size:"large"},{default:_((()=>[x("span",M,y(s.$t("index.qx")),1)])),_:1}),h(o,{style:{height:"55px"},type:"primary",size:"large",onClick:P},{default:_((()=>[x("span",T,y(s.$t("index.qd")),1)])),_:1})])])),default:_((()=>[x("span",R,y(s.$t("setting.cqsx")),1)])),_:1},8,["modelValue"]),k(N)?(z(),S(f,{key:0})):w("",!0)])}}}),[["__scopeId","data-v-d4a15eab"]]);export{K as default};
