import{y as e,aX as o,d as s,_ as a,aL as t,a$ as n,L as l,aq as i,R as r,$ as c}from"./index-d6250428.js";import{F as d}from"./index-45a466f5.js";import{E as u}from"./element-plus-5a8aeb67.js";import{d as m}from"./@element-plus-c72353dc.js";import{u as p}from"./vue-i18n-5829ac11.js";import{P as v}from"./index-1077bd55.js";import{C as f,r as h,o as j,c as b,a as x,R as g,P as w,u as y,M as S,T as P,aZ as k,a1 as I,O as _,K as C}from"./@vue-73fba911.js";import{H as T}from"./hotelDialog-e4dd1514.js";import"./vue-router-fe18c2fe.js";import"./pinia-118dd6fd.js";import"./vue3-loading-overlay-a6191c09.js";import"./vue-slider-component-7621b196.js";import"./@autoxing-9bbbdd2d.js";import"./axios-2c1be958.js";import"./websocket-963e06e0.js";import"./es5-ext-689fde2c.js";import"./vue-6ec50eb9.js";import"./mitt-dab1f1cb.js";import"./swiper-276df855.js";import"./ssr-window-792d0f84.js";import"./dom7-250848e3.js";import"./amfe-flexible-1f7bb7f4.js";import"./@intlify-352b7567.js";import"./dayjs-4c03de08.js";import"./lodash-es-fa68f30b.js";import"./@vueuse-171ed302.js";import"./@ctrl-ee9bdfd4.js";import"./async-validator-efc2d198.js";import"./@popperjs-892fd7f5.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-da779ce4.js";import"./icon-home-15bd5876.js";import"./fastdeveryico1-eee468d9.js";const A={class:"ocenter abnormaltank"},F={class:"erroinner"},N=a(f({__name:"pass-phone",emits:["cancel"],setup(a,{emit:t}){p(),e();const n=o(),l=h("");function i(e){l.value=e}function r(){l.value&&(n.phone=l.value,s.push({path:"/hotel/saveBox"}))}function c(){t("cancel")}return(e,o)=>{const s=u;return j(),b("div",A,[x("div",F,[x("div",{class:"close-box",onClick:c},[g(s,null,{default:w((()=>[g(y(m))])),_:1})]),g(v,{onSuccess:i,type:"phone",class:"phone-box"}),x("div",{class:S(["btn sure-btn",{disabled:!l.value}]),onClick:r},[x("span",null,P(e.$t("index.qd")),1)],2)])])}}}),[["__scopeId","data-v-92620213"]]),$={class:"send-food-box"},q=f({beforeRouteEnter(e,a,n){n((e=>{const n=e;"/hotel/homes"===a.path&&(console.log(o()),o().hotelSetting.sendFoodSwitch&&(t.show({downTimes:30,isScreenLock:!1}).then((e=>{n.passwordControl=!1,e||s.push({path:"/hotel/homes"})})),n.passwordControl=!0))}))}}),D=a(f({...q,__name:"sendFood",setup(a,{expose:t}){const u=e(),m=o(),p=h(null),v=h(!1),f=h(i);t({passwordControl:v}),k((()=>{y.value=!1,p.value=null,r.getInstance().setPlayAudio({mode:1,url:"",audioId:c.audioIdset("3121028"),volume:u.customSetting.sound.switchon?u.customSetting.sound.voiceVolume:0,interval:-1,num:1,duration:10,forcePlay:!0})})),I((()=>{}));const w=e=>{p.value=e},y=h(!1);function A(){if(console.log(p.value.floorName,f.value),p.value){2===(m.hotelSetting.callPhoneType.id||1)?(y.value=!0,r.getInstance().setPlayAudio({mode:1,url:"",audioId:c.audioIdset("3121029"),volume:u.customSetting.sound.switchon?u.customSetting.sound.voiceVolume:0,interval:-1,num:1,duration:10,forcePlay:!0})):s.push({path:"/hotel/saveBox"})}}function F(){if(console.log(p.value.floorName,f.value),p.value){const e=(p.value.floorName||p.value.floor)!=f.value;n.getInstance().checkISCellPhone(e).then((e=>{console.log(e),l.loginfoNew("hotelData","checkPhoneAndElevator=>",{checkData:e,selectAddress:p,currentF:f.value});const{isOk:o,errType:a,errText:t}=e;o?A():T.show({data:{errType:a,errText:t},type:"success",sure:()=>{T.close(),A()},cancel:()=>{T.close(),s.push({path:"/hotel/homes"})}})}))}}function q(){y.value=!1}return(e,o)=>(j(),b("div",$,[g(d,{onSelectPoi:w,passPhoneShow:y.value,overHide:v.value},null,8,["passPhoneShow","overHide"]),x("div",{class:S(["btn sure-btn",{disabled:!p.value}]),onClick:F},[x("span",null,P(e.$t("index.qd")),1)],2),y.value?(j(),_(N,{key:0,onCancel:q})):C("",!0)]))}}),[["__scopeId","data-v-73acc9ef"]]);export{D as default};
