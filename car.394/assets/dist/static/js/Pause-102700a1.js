import{y as e,ai as s,T as t,L as a,X as n,P as i,bK as o,bE as l,bF as r,bR as c,bJ as u,aL as p,R as m,a as d,b1 as v,_ as g,bL as h,$ as f}from"./index-d6250428.js";import{C as y,r as b,W as k,e as T,aZ as w,w as j,a1 as C,o as x,c as _,a as N,M as I,u as z,T as $,K as G,a4 as P,L as S,a3 as A,I as L,J as U,b3 as B,b2 as M,S as D,R as E,O as q,ae as F}from"./@vue-73fba911.js";import{u as J}from"./vue-i18n-5829ac11.js";import"./axios-2c1be958.js";import{O as R}from"./index-f0d7bfaa.js";import{s as O}from"./pinia-118dd6fd.js";import"./vue-router-fe18c2fe.js";import"./element-plus-5a8aeb67.js";import"./dayjs-4c03de08.js";import"./@autoxing-9bbbdd2d.js";import"./websocket-963e06e0.js";import"./es5-ext-689fde2c.js";import"./lodash-es-fa68f30b.js";import"./@vueuse-171ed302.js";import"./@element-plus-c72353dc.js";import"./@ctrl-ee9bdfd4.js";import"./async-validator-efc2d198.js";import"./@popperjs-892fd7f5.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-da779ce4.js";import"./vue3-loading-overlay-a6191c09.js";import"./vue-slider-component-7621b196.js";import"./vue-6ec50eb9.js";import"./mitt-dab1f1cb.js";import"./swiper-276df855.js";import"./ssr-window-792d0f84.js";import"./dom7-250848e3.js";import"./amfe-flexible-1f7bb7f4.js";import"./@intlify-352b7567.js";import"./index-d0252c4f.js";const W=e=>(B("data-v-b220f95b"),e=e(),M(),e),K={class:"stopsty"},H={class:"annicont"},V={key:0,class:"deliverytip font9"},X={key:0},Z={key:1},Q=["src"],Y=["src"],ee={class:"rightdevery"},se={key:0,class:"delivery_list"},te={class:"topmess"},ae=W((()=>N("div",{class:"emptyline"},null,-1))),ne={class:"list_scroll"},ie={key:0,class:"lineem"},oe=[W((()=>N("div",null,null,-1)))],le={class:"li_cont"},re=["onClick"],ce={key:1,class:"delivery_list_empty"},ue={class:"delivery_bottom"},pe=["src"],me={class:"bottom1_span"},de=["src"],ve={class:"bottom2_span"},ge=g(y({__name:"PauseCommon",props:{targetName:{type:String,default:""}},setup(g){const{t:h}=J(),f=e(),y=s(),B=b(-1);let M=k({targetName:""});const D=[];async function E(){await p.show({downTimes:10,stopTimeName:"pauseCommon"})&&q()}function q(){let e=m.getInstance(),s=[];if(20==y.runType||21==y.runType||24==y.runType)for(let t=0;t<y.list.length;t++)1==y.list[t].preGet&&s.push({index:t,isPass:!0});s.length>0?(d.show(),e.updateTask(s).then((s=>e.executeTask())).then((e=>{d.close();for(let s=0;s<y.list.length;s++)1==y.list[s].preGet&&(y.list[s].preGet=!1)})).catch((e=>{d.close()}))):(d.show(),e.resumeTask().then((()=>{d.close()})).catch((e=>{d.close()})))}function F(e){return 0==e?"no-Delivery":1==e||2==e?"arrive":3==e?"success":void 0}function R(){t.getInstance().enableModifyTask(),O()}async function O(){if(!(await p.show({downTimes:10,stopTimeName:"pauseCommon"})))return;d.show(),m.getInstance().cancelTask().then((()=>{d.close()})).catch((e=>{d.close()}))}return T((()=>{})),w((async()=>{B.value=-1,function(){let e=j((()=>[y.targetName]),((e,s)=>{!function(){console.log(y.targetName,"======================"),null!=y.targetName&&""!=y.targetName&&(M.targetName=y.targetName);let e=f.robotstate,s=e.isGoHome&&!e.isCharging;""===M.targetName&&(M.targetName=!0===s?h("task.hzcdz"):y.isTasking?h("task.zzzxrw"):h("task.zzydz"))}()}),{immediate:!0});D.push(e);let s=j((()=>y.isPaused),((e,s)=>{a.loginfoNew("baseline","pause=>pauseCommon",{taskType:y.taskType,curAction:y.curAction}),y.isPaused&&6!==y.taskType&&function(){let e=y.curAction;e&&18===e.actType&&e.data&&"number"==typeof e.data.pauseTime?B.value=e.data.pauseTime:B.value=f.customSetting.delivery.pauseDuration||10;B.value>=0&&n.getInstance().startTime("pauseCommon",1e3,B.value,(e=>{B.value=e,a.onWriteLog("info","baseline",{item:e},"pauseCommon=>TimeoutSet"),0===e&&q()}))}()}),{immediate:!0});D.push(s)}();let e=t.getInstance().getCurrentActObj();a.loginfoNew("baseline","pause=>pauseCommon",{taskType:y.taskType,curAction:e})})),C((()=>{n.getInstance().removeTime("pauseCommon"),i.getInstance().onDeactivated(),function(){for(;D.length;)D.pop()()}()})),(e,s)=>(x(),_("div",null,[N("div",K,[N("div",{class:"leftdevery",onClick:E},[N("div",H,[N("div",{class:I([z(M).targetName&&z(M).targetName.length>=5?"ondeliveryable":"ondeliverybig"])},$(z(M).targetName),3),[z(o).Fast,z(o).Multi,z(o).GoStandby,z(o).Jacking,z(o).Guide,z(o).GoCharging].includes(z(y).runType)?(x(),_("div",V,[N("div",null,$(e.$t("task.ztrwz")),1),[z(o).GoCharging].includes(z(y).runType)?G("",!0):(x(),_("div",X,$(e.$t("task.djpmjxps")),1)),B.value>-1?(x(),_("div",Z,$(e.$t("task.dsjsz"))+" ("+$(B.value)+"s)",1)):G("",!0)])):G("",!0),N("img",{src:z(l),style:{height:"100%",width:"100%",position:"absolute"}},null,8,Q),N("img",{src:z(r),style:{height:"100%",width:"100%","z-index":"1",position:"absolute",top:"5.76px",left:"5.76px"}},null,8,Y)])]),N("div",ee,[z(y).runType===z(o).Fast||z(y).runType===z(o).Multi?(x(),_("div",se,[N("div",te,[P($(e.$t("task.rwlb"))+" ",1),ae,N("div",ne,[(x(!0),_(S,null,A(z(y).pallet,((s,a)=>(x(),_("div",{class:"one_li",key:a},[a!=z(y).pallet.length-1?(x(),_("div",ie,oe)):G("",!0),N("div",le,[N("div",{class:I(1==s.status?"one_num2":"one_num")},$(a+1),3),N("div",{class:I(["one_cont bb",F(s.status)])},[N("div",{class:I(F(s.status))},"L"+$(a+1)+"ï¼š",3),N("div",{class:I([F(s.status),"font8"])},$(s.name),3)],2)]),0==s.status||1==s.status?(x(),_("div",{key:1,onClick:e=>function(e){e.status=3,e.preGet=!0,t.getInstance().finishTargetName(e.name),e.idx&&v(!0,e.idx.join(","))}(s),class:"bottom_Co font8"},$(e.$t("task.tqq")),9,re)):G("",!0)])))),128))])])])):(x(),_("div",ce)),N("div",ue,[L(N("div",{class:"bottom1 font8",onClick:R},[N("img",{src:z(c),alt:""},null,8,pe),N("span",me,$(e.$t("index.xgrw")),1)],512),[[U,![z(o).Cruise,z(o).JackCruise,z(o).Flexible].includes(z(y).runType)]]),N("div",{class:"bottom2 font8",onClick:O},[N("img",{src:z(u),alt:""},null,8,de),N("span",ve,$(e.$t("task.jsrw")),1)])])])])]))}}),[["__scopeId","data-v-b220f95b"]]),he={class:"stopsty"},fe={class:"annicont"},ye={class:"deliverytip font9"},be={key:0},ke=["src"],Te=["src"],we={class:"rightdevery"},je={class:"delivery_bottom"},Ce=["src"],xe={class:"bottom2_span"},_e=g(y({__name:"PauseUsher",props:{targetName:{type:String,default:""}},setup(t){const o=e(),c=s(),v=b(-1),g=[];function f(){let e=j((()=>c.actType),((e,s)=>{console.log(e,s,"======================"),a.loginfoNew("baseline","pause=>pauseCommon",{taskType:c.taskType,curAction:c.curAction}),e===h.Pause&&6!==c.taskType&&function(){let e=c.curAction;e&&18===e.actType&&e.data&&"number"==typeof e.data.pauseTime?v.value=e.data.pauseTime:v.value=o.customSetting.delivery.pauseDuration||10;v.value>=0&&n.getInstance().startTime("pauseUsher",1e3,v.value,(e=>{v.value=e,a.onWriteLog("info","baseline",{item:e},"pauseUsher=>TimeoutSet"),0===e&&k()}))}()}),{immediate:!0});g.push(e)}async function y(){await p.show({downTimes:10,stopTimeName:"pauseUsher"})&&k()}function k(){let e=m.getInstance(),s=[];if(20==c.runType||21==c.runType||24==c.runType)for(let t=0;t<c.list.length;t++)1==c.list[t].preGet&&s.push({index:t,isPass:!0});s.length>0?(d.show(),e.updateTask(s).then((s=>e.executeTask())).then((e=>{d.close();for(let s=0;s<c.list.length;s++)1==c.list[s].preGet&&(c.list[s].preGet=!1)})).catch((e=>{d.close()}))):(d.show(),e.resumeTask().then((()=>{d.close()})).catch((e=>{d.close()})))}async function P(){if(!(await p.show({downTimes:10,stopTimeName:"pauseUsher"})))return;o.isBack=!0,d.show(),m.getInstance().cancelTask().then((()=>{d.close()})).catch((e=>{d.close()}))}return T((()=>{v.value=-1,f()})),w((()=>{v.value=-1,f()})),C((()=>{n.getInstance().removeTime("pauseUsher"),i.getInstance().onDeactivated(),function(){for(;g.length;)g.pop()()}()})),(e,s)=>(x(),_("div",null,[N("div",he,[N("div",{class:"leftdevery",onClick:y},[N("div",fe,[N("div",{class:I([z(c).targetName&&z(c).targetName.length>=5?"ondeliveryable":"ondeliverybig"])},$(z(c).targetName),3),N("div",ye,[N("div",null,$(e.$t("task.ztrwz")),1),N("div",null,$(e.$t("task.djpmjxps")),1),v.value>-1?(x(),_("div",be,$(e.$t("task.dsjsz"))+" ("+$(v.value)+"s)",1)):G("",!0)]),N("img",{src:z(l),style:{height:"100%",width:"100%",position:"absolute"}},null,8,ke),N("img",{src:z(r),style:{height:"100%",width:"100%","z-index":"1",position:"absolute",top:"5.76px",left:"5.76px"}},null,8,Te)])]),N("div",we,[N("div",je,[N("div",{class:"bottom2 font8",onClick:P},[N("img",{src:z(u),alt:""},null,8,Ce),N("span",xe,$(e.$t("task.jsrw")),1)])])])])]))}}),[["__scopeId","data-v-daa3a58f"]]),Ne=""+new URL("../png/birthday_icon12-1e38d993.png",import.meta.url).href,Ie=e=>(B("data-v-66a0d12f"),e=e(),M(),e),ze={class:"img-box"},$e={class:"continue"},Ge=Ie((()=>N("img",{class:"img12",src:Ne,alt:""},null,-1))),Pe={class:"info-box"},Se={class:"name"},Ae=Ie((()=>N("i",null,null,-1))),Le=P(),Ue={class:"title"},Be=["onClick"],Me={class:"btn-list"},De=["onClick"],Ee=Ie((()=>N("img",{src:"",alt:""},null,-1))),qe=["onClick"],Fe=Ie((()=>N("img",{src:"",alt:""},null,-1))),Je=g(y({__name:"PauseBirthday",setup(n){const i=e(),o=s();async function l(){if(await p.show({downTimes:10}))try{d.show();let e=m.getInstance();await e.resumeTask(),d.close()}catch(e){a.logErrNew("Common","pause birthday resume error",{error:e}),d.close()}}function r(){const e=o.pallet[0];try{d.show(),t.getInstance().finishTargetName(e.name);let s=m.getInstance();v(!0,"0"),s.updateTask([{index:0,isPass:!0}]).then((e=>s.executeTask())).then((()=>{for(let e=0;e<o.list.length;e++)1==o.list[e].preGet&&(o.list[e].preGet=!1);i.isBack=!0,f.audioStop(),d.close()})).catch((e=>{d.close()}))}catch(s){a.logErrNew("Common","pause birthday preGetCurrent error",{error:s}),d.close()}}function c(){try{t.getInstance().enableModifyTask(),u()}catch(e){a.logErrNew("Common","pause birthday ModifyTask error",{error:e}),console.error(e)}}async function u(){if(!(await p.show({downTimes:10})))return;d.show(),i.isBack=!1,m.getInstance().cancelTask().then((()=>{d.close()})).catch((e=>{a.logErrNew("Common","pause birthday cancelTask error",{error:e}),d.close()}))}return(e,s)=>(x(),_("div",{class:"birthday-box",onClick:l},[N("div",ze,[N("h3",null,$(e.$t("task.rwztz")),1),N("p",$e,$(e.$t("task.djpmjxps")),1),Ge]),N("div",Pe,[N("h3",Se,[Ae,Le,N("span",null,$(e.$t("task.rwlb")),1)]),N("h3",Ue,[N("span",null,$(z(o).targetName),1)]),N("p",{class:"prev-tip btn",onClick:D(r,["stop"])},$(e.$t("task.tqq")),9,Be),N("div",Me,[N("div",{class:"prev btn",onClick:D(c,["stop"])},[Ee,N("span",null,$(e.$t("index.xgrw")),1)],8,De),N("div",{class:"stop_now btn",onClick:D(u,["stop"])},[Fe,N("span",null,$(e.$t("task.jsrw")),1)],8,qe)])])]))}}),[["__scopeId","data-v-66a0d12f"]]),Re={class:"tip"},Oe={class:"navposi"},We=g(y({__name:"Pause",setup(t){const a=s(),n=e();let{runType:i}=O(a),o=b(!1),l=b("common");return w((()=>{o.value=27===i.value&&!1===n.isBack,o.value?l.value="Birthday":28===i.value?l.value="Usher":l.value="common"})),(e,s)=>{const t=F("navbarVue");return x(),_(S,null,[N("div",Re,[N("div",Oe,[E(t,{heights:"65"})])]),N("div",null,["Birthday"===z(l)?(x(),q(Je,{key:0})):28==z(i)?(x(),q(_e,{key:1})):(x(),q(ge,{key:2}))]),E(R)],64)}}}),[["__scopeId","data-v-cc23bfd2"]]);export{We as default};
