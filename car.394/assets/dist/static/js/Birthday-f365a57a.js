import{C as e,r as t,e as l,y as i,aZ as s,a1 as o,w as a,c as r,a as n,I as c,J as d,M as u,u as p,K as m,L as f,a3 as v,R as b,P as g,T as h,b3 as y,b2 as S,o as w,O as _,U as k}from"./@vue-73fba911.js";import{_ as x}from"./floorl-cd6ae1bf.js";import{_ as j,a as C}from"./birthday_icon4-194a1660.js";import{S as I,a as N}from"./swiper-276df855.js";import{y as L,ai as P,t as E,aA as B,aB as T,$ as A,T as R,aD as G,aq as M,P as O,at as W,_ as z}from"./index-d6250428.js";import{u as D}from"./vue-i18n-5829ac11.js";import"./ssr-window-792d0f84.js";import"./dom7-250848e3.js";import"./vue-router-fe18c2fe.js";import"./pinia-118dd6fd.js";import"./element-plus-5a8aeb67.js";import"./dayjs-4c03de08.js";import"./@autoxing-9bbbdd2d.js";import"./axios-2c1be958.js";import"./websocket-963e06e0.js";import"./es5-ext-689fde2c.js";import"./lodash-es-fa68f30b.js";import"./@vueuse-171ed302.js";import"./@element-plus-c72353dc.js";import"./@ctrl-ee9bdfd4.js";import"./async-validator-efc2d198.js";import"./@popperjs-892fd7f5.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-da779ce4.js";import"./vue3-loading-overlay-a6191c09.js";import"./vue-slider-component-7621b196.js";import"./vue-6ec50eb9.js";import"./mitt-dab1f1cb.js";import"./amfe-flexible-1f7bb7f4.js";import"./@intlify-352b7567.js";const V=""+new URL("../png/birthday_icon5-586d72a1.png",import.meta.url).href,$=e=>(y("data-v-bb0353fa"),e=e(),S(),e),U={class:"multideliverycontent"},q={class:"multitop"},J=[$((()=>n("img",{src:x,style:{width:"13px",height:"21px"}},null,-1)))],K={key:1,class:"floor_list2",id:"scroll1"},Z=["id","onClick"],F={key:0,class:"birthday-icon icon1"},H=$((()=>n("i",{class:"birthday-icon icon2"},null,-1))),Q=[$((()=>n("img",{class:"rotate180",src:x,style:{width:"13px",height:"21px"}},null,-1)))],X=[$((()=>n("img",{src:x,style:{width:"13px",height:"21px"}},null,-1)))],Y={class:"floor_list2",id:"scroll2"},ee=["id","onClick"],te=[$((()=>n("img",{class:"rotate180",src:x,style:{width:"13px",height:"21px"}},null,-1)))],le={class:"mu_point_list"},ie=$((()=>n("div",{class:"bg-box"},[n("img",{class:"birthday-img1",src:j,alt:""}),n("img",{class:"birthday-img2",src:C,alt:""}),n("img",{class:"birthday-img3",src:V,alt:""})],-1))),se={class:"info-box"},oe={class:"left_pre",style:{"margin-top":"-12px"}},ae={key:0,class:"left_center"},re={class:"mu_swiper_content"},ne=["onClick"],ce={key:1,class:"left_center"},de=["onClick"],ue={class:"right_pre",style:{"margin-top":"-12px"}},pe={class:"btn-bottom"},me={class:"mu_dot"},fe=$((()=>n("i",{class:"birthday-icon icon6"},null,-1))),ve={key:0,class:"dotscontent"},be={key:1,class:"dotscontent"},ge={class:"mu_sel_point"},he=$((()=>n("i",{class:"icon10"},null,-1))),ye={key:0},Se={key:1},we=$((()=>n("i",{class:"birthday-icon icon8"},null,-1))),_e=$((()=>n("i",{class:"birthday-icon icon9"},null,-1))),ke=e({beforeRouteEnter(e,t,l){l((e=>{const t=e;t.Guidelist&&(t.Guidelist.select=0,t.Guidelist=""),t.initscroll()}))}}),xe=z(e({...ke,__name:"Birthday",setup(e,{expose:y}){const{t:S}=D(),x=L();P();const j=t(1),C=G[2],z=t(),V=t(!1),$=t(!1),ke=t(!1),xe=t(!1);let je=null,Ce=null;function Ie(e){if(1==e){document.getElementById("scroll1").scrollLeft-=60}else{document.getElementById("scroll1").scrollLeft+=69}}function Ne(e){if(1==e){document.getElementById("scroll2").scrollLeft-=60}else{document.getElementById("scroll2").scrollLeft+=69}}function Le(e){je=e}function Pe(e){Ce=e}function Ee(e){if(console.log(e,111111111),1==j.value)for(let t in C.boardlist){if((C.boardlist[t][0].floorName?C.boardlist[t][0].floorName:C.boardlist[t][0].floor)==e){C.swipertab=Number(t),je.slideTo(Number(t));break}}else for(let t in C.boardlist2){if((C.boardlist2[t][0].floorName?C.boardlist2[t][0].floorName:C.boardlist2[t][0].floor)==e){C.swipertab2=Number(t),Ce.slideTo(Number(t));break}}}function Be(){if(C.boardlist&&C.boardlist.length&&C.boardlist[C.swipertab]&&C.boardlist[C.swipertab].length){let e=1==j.value?C.floorlist:C.floorlist2,t=1==j.value?C.boardlist[C.swipertab][0].floorName?C.boardlist[C.swipertab][0].floorName:C.boardlist[C.swipertab][0].floor:C.boardlist2[C.swipertab2][0].floorName?C.boardlist2[C.swipertab2][0].floorName:C.boardlist2[C.swipertab2][0].floor;for(let l in e)e[l].name==t?(e[l].sel=!0,We(Number(l))):e[l].sel=!1}}function Te(){1==j.value?je.slidePrev():Ce.slidePrev()}function Ae(){1==j.value?je.slideNext():Ce.slideNext()}function Re(e){C.swipertab=e.activeIndex,Be()}function Ge(e){C.swipertab2=e.activeIndex,Be()}function Me(e,t){let l=(1==j.value?C.boardlist:C.boardlist2)[e][t];l.select=1,z.value?l.id==z.value.id?(z.value.select=0,z.value=""):(z.value.select=0,z.value="",z.value=l):z.value=l}function Oe(){let e=z.value;if(!e)return void E.show(S("index.wxzzd"));let t=[];t.push({x:e.coordinate[0],y:e.coordinate[1],yaw:e.yaw,areaId:e.areaId,dockingRadius:e.properties&&e.properties.dockingRadius?e.properties.dockingRadius:"1",ext:{name:e.name,id:e.id,isBirthday:!0},stepActs:[{type:B.OpenLight,data:{mode:1,color:x.customSetting.otherSetting.lightStrip.lightStripSwitch?x.customSetting.otherSetting.lightStrip.arriveState.lightColor:-1,feature:x.customSetting.otherSetting.lightStrip.arriveState.lightType}},{type:B.PlayAudio,data:{mode:T,audioId:A.audioIdset("3111025"),num:1,volume:x.customSetting.sound.switchon?x.customSetting.sound.voiceVolume:0,interval:-1,duration:-1,channel:1,forcePlay:!0}},{type:B.InterAction},{type:B.OpenLight,data:{mode:1,color:x.customSetting.otherSetting.lightStrip.lightStripSwitch?x.customSetting.otherSetting.lightStrip.taskState.lightColor:-1,feature:x.customSetting.otherSetting.lightStrip.taskState.lightType}}]});let l={ext:{name:"起点"},stepActs:[{type:B.OpenLight,data:{mode:1,color:x.customSetting.otherSetting.lightStrip.lightStripSwitch?x.customSetting.otherSetting.lightStrip.taskState.lightColor:-1,feature:x.customSetting.otherSetting.lightStrip.taskState.lightType}},{type:B.PlayAudio,data:{mode:T,audioId:A.audioIdset("3111012"),num:1,volume:x.customSetting.sound.switchon?x.customSetting.sound.voiceVolume:0,interval:-1,duration:-1,channel:1,forcePlay:!0}},{type:B.SetSpeed,data:{speed:x.customSetting.delivery.runSpeed/100}}]},i={name:"生日"+(new Date).getTime(),runNum:1,runMode:x.customSetting.basic.runMode||1,taskType:2,runType:27,curPt:l,pts:t,backPt:{},ignorePublicSite:!0};x.isBack=!1,R.getInstance().startTask(i),i.runType=27}function We(e){var t=document.getElementById("id"+Number(e));t&&t.scrollIntoView({block:"center",inline:"center",behavior:"auto"})}return l((()=>{var e=document.getElementById("scroll1");e&&e.addEventListener("scroll",(function(){e.scrollLeft<=10?0==V.value&&(V.value=!0):1==V.value&&(V.value=!1),e.scrollWidth-e.offsetWidth-e.scrollLeft<=10?0==$.value&&($.value=!0):1==$.value&&($.value=!1)}));var t=document.getElementById("scroll2");t&&t.addEventListener("scroll",(function(){t.scrollLeft<=10?0==ke.value&&(ke.value=!0):1==ke.value&&(ke.value=!1),t.scrollWidth-t.offsetWidth-t.scrollLeft<=10?0==xe.value&&(xe.value=!0):1==xe.value&&(xe.value=!1)}))})),i((()=>{var e=document.getElementById("scroll1");e&&e.removeEventListener("scroll",null);var t=document.getElementById("scroll2");t&&t.removeEventListener("scroll",null)})),s((()=>{Ee(M.value)})),o((()=>{z.value&&(z.value.select=0),z.value="",O.getInstance().onDeactivated(),z.value&&z.value.select&&(z.value.select=0)})),a((()=>M.value),((e,t)=>{Ee(e)})),a((()=>W.value),((e,t)=>{2==x.businessScene&&(j.value=1)})),y({Guidelist:z,userstore:x,initscroll:function(){let e=1==j.value?C.floorlist:C.floorlist2;for(let t in e)e[t].sel&&We(Number(t))}}),(e,t)=>(w(),r("div",U,[n("div",q,[c(n("div",{class:u(p(C).floorlist.length>0?"floor_content":"floor_content2")},[p(C).floorlist.length>5?(w(),r("div",{key:0,class:u(V.value?"floorleft_per1":"floorleft_per2"),onClick:t[0]||(t[0]=e=>Ie(1))},J,2)):m("",!0),p(C).floorlist.length>0?(w(),r("div",K,[(w(!0),r(f,null,v(p(C).floorlist,((e,t)=>(w(),r("div",{id:"id"+t,class:u(e.sel?"one_floor":"nosel_floor"),onClick:t=>Ee(e.name),key:t},[n("span",null,h(e.name),1),e.sel?(w(),r("i",F)):m("",!0)],10,Z)))),128))])):m("",!0),H,p(C).floorlist.length>5?(w(),r("div",{key:2,class:u($.value?"floorright_per1":"floorright_per2"),onClick:t[1]||(t[1]=e=>Ie(2))},Q,2)):m("",!0)],2),[[d,1==j.value]]),c(n("div",{class:u(p(C).floorlist2.length>0?"floor_content":"floor_content2")},[p(C).floorlist2.length>5?(w(),r("div",{key:0,class:u(ke.value?"floorleft_per1":"floorleft_per2"),onClick:t[2]||(t[2]=e=>Ne(1))},X,2)):m("",!0),n("div",Y,[(w(!0),r(f,null,v(p(C).floorlist2,((e,t)=>(w(),r("div",{id:"id"+t,class:u(e.sel?"one_floor":"nosel_floor"),onClick:t=>Ee(e.name),key:t},h(e.name),11,ee)))),128))]),p(C).floorlist2.length>5?(w(),r("div",{key:1,class:u(xe.value?"floorright_per1":"floorright_per2"),onClick:t[3]||(t[3]=e=>Ne(2))},te,2)):m("",!0)],2),[[d,2==j.value]])]),n("div",le,[ie,n("div",se,[n("div",oe,[1==j.value&&p(C).floorlist.length>0?(w(),r("span",{key:0,onClick:Te,class:u([0==p(C).swipertab?"disable-pre":"active-pre","swiper-button-prev"])},null,2)):m("",!0),2==j.value&&p(C).floorlist2.length>0?(w(),r("span",{key:1,onClick:Te,class:u([0==p(C).swipertab2?"disable-pre":"active-pre","swiper-button-prev"])},null,2)):m("",!0)]),1==j.value?(w(),r("div",ae,[n("div",re,[b(p(I),{style:{width:"100%",height:"100%"},initialSlide:p(C).swipertab,"slides-per-view":1,"space-between":50,onSwiper:Le,onSlideChange:Re},{default:g((()=>[(w(!0),r(f,null,v(p(C).boardlist,((e,t)=>(w(),_(p(N),{key:t,class:"slideone"},{default:g((()=>[(w(!0),r(f,null,v(e,((e,l)=>(w(),r("div",{key:l,onClick:e=>Me(t,l),class:u(1==e.select?"mu_one_Point font1":"mu_one_Point2 font1"),style:k(e.name?"":"display:none")},[n("span",null,h(e.name),1)],14,ne)))),128))])),_:2},1024)))),128))])),_:1},8,["initialSlide"])])])):m("",!0),2==j.value?(w(),r("div",ce,[b(p(I),{style:{width:"100%",height:"100%"},initialSlide:p(C).swipertab2,"slides-per-view":1,"space-between":50,onSwiper:Pe,onSlideChange:Ge},{default:g((()=>[(w(!0),r(f,null,v(p(C).boardlist2,((e,t)=>(w(),_(p(N),{class:"mu_swiper_content",key:t},{default:g((()=>[(w(!0),r(f,null,v(e,((e,l)=>(w(),r("div",{key:l,onClick:e=>Me(t,l),class:u(1==e.select?"mu_one_Point font1":"mu_one_Point2 font1"),style:k(e.name?"":"display:none")},[n("span",null,h(e.name),1)],14,de)))),128))])),_:2},1024)))),128))])),_:1},8,["initialSlide"])])):m("",!0),n("div",ue,[1==j.value&&p(C).floorlist.length>0?(w(),r("span",{key:0,onClick:Ae,class:u([p(C).swipertab==p(C).boardlist.length-1?"disable-pre":"active-pre","swiper-button-next"])},null,2)):m("",!0),2==j.value&&p(C).floorlist2.length>0?(w(),r("span",{key:1,onClick:Ae,class:u([p(C).swipertab2==p(C).boardlist2.length-1?"disable-pre":"active-pre","swiper-button-next"])},null,2)):m("",!0)])])]),n("div",pe,[n("div",me,[fe,1==j.value?(w(),r("div",ve,[(w(!0),r(f,null,v(p(C).boardlist,((e,t)=>(w(),r("div",{class:u(t==p(C).swipertab?"one_dot":"one_dot2")},null,2)))),256))])):m("",!0),2==j.value?(w(),r("div",be,[(w(!0),r(f,null,v(p(C).boardlist2,((e,t)=>(w(),r("div",{class:u(t==p(C).swipertab2?"one_dot":"one_dot2")},null,2)))),256))])):m("",!0)]),n("div",ge,[n("div",{class:"guide_task font1",onClick:Oe},[he,p(x).isModify?(w(),r("span",ye,h(e.$t("index.xgrw")),1)):(w(),r("span",Se,h(e.$t("index.srps")),1))]),we,_e])])]))}}),[["__scopeId","data-v-bb0353fa"]]);export{xe as default};
